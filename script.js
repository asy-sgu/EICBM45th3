// 1월부터 12월까지의 추천 시장 데이터 정의
const marketData = {
    1: [ 
         { 
            title: "서울 광장시장", 
            image: "101.jpeg", 
            reason: "서울의 오래된 정취가 살아 숨 쉬는 광장시장. 빈대떡과 마약김밥, 육회비빔밥까지 서울 시민의 소울푸드를 한자리에서 맛볼 수 있다. 시장 골목을 따라 들어가면 오래된 한복집과 포목점들이 이어져 있어, 과거와 현재가 공존하는 풍경이 펼쳐진다. 남대문이나 명동과도 가까워 도심 여행 코스로 엮기에도 좋다.", 
            details: {
                운영시간: "일반상가 09:00-18:00, 먹자골목 09:00-23:00, 구제상가 10:00-19:00(일요일 휴무)",
                위치: "서울 종로구 창경궁로 88",
                주차장: "종묘공영주차장(24시간, 5분당 400원), 청계3·4가 노상주차장(평일 09-19시, 토 09-15시)",
            }
        },
        { 
            title: "강릉 중앙시장", 
            image: "102.jpeg", 
            reason: "겨울 분위기가 물씬 느껴지는 강원도 강릉으로 떠나보자. 강릉 중앙시장은 강릉 여행 필수 코스라고 해도 과언이 아니다. 월화거리에서 아기자기한 소품샵들을 구경하고, 출출해질 때쯤엔 바로 옆 중앙시장에서 닭강정과 어묵고로케를 맛본다. 골목길마다 형성되어있는 다양한 노점에서는 사계절 내내 특산품을 구경할 수 있다. 지하에는 영동 최대의 어시장이 위치해 있어, 숙소로 갈 때 회 한 접시 사들고 가는 것도 추천한다.", 
            details: {
                운영시간: "10:00~19:00 (점포별 상이)",
                위치: "강원특별자치도 강릉시 금성로 21",
                주차장: "옥천주차장(무료)/제1공영주차장(1시간 이내 무료)/제2공영주차장(타워), 3공영주차장(노상)",
            }
        },
        { 
            title: "아산 온양온천시장", 
            image: "103.jpeg", 
            reason: "추운 겨울날 생각나는 뜨뜻한 온천! 이번 겨울은 아산으로 심신 회복 여행을 떠나보길 추천한다. 맛내는거리/멋내는거리/샘솟는거리 셋으로 나누어진 시장은 입과 눈을 즐겁게 하고 마음까지 편안하게 해준다. 특히 오색호떡이 인기며 단감, 사과 등 다양한 청과도 구매할 수 있다. 장보기를 마친 후엔 샘솟는거리에 있는 소원분수 ‘건강의 샘’에서 따뜻한 물로 족욕을 하면서 피로를 풀 수 있다. 올 한 해의 소원도 함께 빌어보자.", 
            details: {
                운영시간: "09:00~20:00 (점포별 상이)",
                위치: "충남 아산시 시장길 29 온양온천시장",
                주차장: "공영주차장(주차 타워, 30분 무료)",
            }
        },
    ],

    2: [
        { 
            title: "전주 완산시장", 
            image: "201.jpeg", 
            reason: "전주의 따뜻한 인심과 풍성한 맛을 느낄 수 있는 완산시장은 전통과 청년 감성이 조화된 시장이다. 전주비빔밥, 한옥마을의 풍미를 잇는 다양한 먹거리들이 가득하고, 주말엔 버스킹 공연도 자주 열린다. 오래된 전통가게 옆으로 감각적인 청년 상점이 자리해 있어, 세대와 세대가 자연스럽게 어우러진다. 전주 여행의 여유로운 오후를 보내기 좋은 장소다.", 
            details: {
                운영시간: "10:00-23:00",
                위치: "전주시 완산구 태평4길 18",
                주차장: "중앙시장 공영주차장(1시간당 500원, 시장 이용 시 무료권 제공)",
            }
        },
        { 
            title: "오정 농수산물도매시장", 
            image: "202.jpeg", 
            reason: "대전에는 빵만 유명한 게 아니다. 과일도 많다! 오정농수산물도매시장은 대전에서 가장 오래된 도매시장으로, 중부권 최대 규모의 농수산물 기지다. 싱싱한 회와 해산물들을 판매하는 수산물시장과 과일과 채소류들이 즐비한 농산물 시장으로 구성되어 있다. 교통의 요충지인 대전에 위치한 만큼 전국 각지에서 들여온 신선한 농수산물을 볼 수 있다. 도매 가격으로 퀄리티 높은 제철 과일을 구매할 수 있어 설 명절 선물용으로도 제격이다. 겨울철 상큼한 비타민 충전이 필요하다면 바로 이곳이다.", 
            details: {
                운영시간: "청과류 00:00~18:00 / 수산류 04:00~18:00 (일요일 휴무)",
                위치: "대전광역시 대덕구 한밭대로 987 (오정동)",
                주차장: "오정농수산물도매시장 이용 (30분 무료)",
            }
        },
    ],
    3: [
        { 
            title: "강화도 정선 5일장", 
            image: "301.jpeg", 
            reason: "강화도 감성을 제대로 느낄 수 있는 오일장! 5일마다 열리는 장터엔 지역 농산물, 수공예품, 전통 간식들이 줄지어 들어선다. 상인들의 정겨운 사투리와 활기찬 흥정 소리가 여행자의 발걸음을 멈추게 한다. 시골 장터의 소박한 매력과 강화도의 한적한 풍경이 어우러져, 잠시 시간 여행을 한 듯한 기분을 준다.", 
            details: {
                운영시간: "09:00-18:00",
                위치: "강원 정선군 정선읍 5일장길 40 (정선아리랑시장 내)",
                주차장: "정선아라리공원주차장 (시장 입구까지 도보 3분, 공용 무료 및 유료 공터 다수)",
            }
        },
        { 
            title: "모란 민속5일장", 
            image: "302.jpeg", 
            reason: "경기도 성남시에 있는 전국 최대 규모의 5일장으로, 매월 끝자리 4일과 9일, 닷새마다 열린다. 호떡, 팥죽, 칼국수 등으로 유명하며 전국 팔도의 기름집들도 이곳에 한 데 모여있다. 아직은 쌀쌀한 3월, 모란민속5일장에 방문해 추위에 허기진 속을 달래보는 건 어떨까.", 
            details: {
                운영시간: "09:00-19:00",
                위치: "경기 성남시 중원구 둔촌대로 68",
                주차장: "모란다목적공영주차장, 모란민속5일장 공영주차장 이용",
            }
        },
    ],
    4:  [
        { 
            title: "대구 서문시장", 
            image: "401.jpeg", 
            reason: "대구의 열기를 고스란히 느낄 수 있는 서문시장은 전국 3대 시장 중 하나로 꼽힌다. 낮에는 옷감과 잡화로 가득한 상가가, 밤이 되면 ‘야시장’으로 변신해 각종 먹거리와 공연으로 활기를 띤다. 납작만두, 불초밥, 수제맥주까지 대구의 대표 간식들을 한자리에서 즐길 수 있다. 대구 특유의 에너지와 사람 냄새 나는 풍경이 매력적이다.", 
            details: {
                운영시간: "금·토 19:00-23:30, 일 19:00-22:30(월-목 휴무)",
                위치: "대구 중구 큰장로26길 45 (서문시장 내)",
                주차장: "서문시장 2지구상가주차장 및 계성유료주차장 등 인근 유료주차장 이용",
            }
        },
        { 
            title: "양양전통시장", 
            image: "402.jpeg", 
            reason: "설악산 자락에 자리 잡아 청정자연 속에서 자란 봄 나물과 각종 농수산물, 다채로운 먹거리 등을 만나볼 수 있다. 매월 4일과 9일에는 ‘양양 5일 장날’이 열린다. 양양전통시장에 방문해 제철을 맞은 봄의 활기를 느껴보자.", 
            details: {
                운영시간: "06:00-21:00",
                위치: "강원 양양군 양양읍 남문5길 9",
                주차장: "양양전통시장 공영주차장 이용",
            }
        },    
    ],
    5:   [
        { 
            title: "제주 동문시장", 
            image: "501.jpeg", 
            reason: "제주 여행의 마지막 코스로 딱 좋은 동문시장은 현지인과 여행자가 함께 찾는 필수 코스다. 귤, 흑돼지, 갈치 등 제주 특산물이 가득하며, 바로 먹을 수 있는 먹거리 코너도 잘 되어 있다. 푸근한 사투리와 바다 내음이 섞인 시장 분위기에서 진짜 제주를 느낄 수 있다. 밤에는 동문 야시장이 열려, 간단한 야식과 맥주 한잔으로 하루를 마무리하기 좋다.", 
            details: {
                운영시간: "재래시장 08:00-21:00, 야시장 5-10월 19:00-24:00, 11-4월 18:00-24:00",
                위치: "제주시 중앙로13길 16-8",
                주차장: "동문재래시장 공영주차장(30분 무료, 이후 15분당 500원)",
            }
        },
        { 
            title: "서울 신원시장", 
            image: "502.jpeg", 
            reason: "1969년 자연 발생된 이래 오랜 세월 자리를 지켜온 관악구의 시장이다. 지하철 2호선 신림역과 가까워 대중교통의 이용이 편리하다. 서울 전통 시장 중에서도 가성비가 뛰어나며, 특히 4000원 ‘시장탕수육’이 유명하다. 저렴한 가격에 다양한 먹거리를 즐겨보고 싶다면 방문해 보는 것을 추천한다.", 
            details: {
                운영시간: "09:00-22:00(평일), 10:00-22:00(주말)",
                위치: "서울 관악구 신림동 1587-39",
                주차장: "신원시장 공영주차장 이용",
            }
        },
    ],
    6:   [
        { 
            title: "부산 자갈치시장", 
            image: "601.jpeg", 
            reason: "바다와 가장 가까운 시장이라는 말이 어울리는 자갈치시장. 갓 잡은 해산물이 즉석에서 손질되어 회나 구이로 바로 즐길 수 있다. 자갈치 아주머니들의 구수한 억양과 부산항을 배경으로 한 풍경이 여행의 정취를 더한다. 인근 국제시장, BIFF거리와 함께 걸어서 둘러보기에도 딱 좋다.", 
            details: {
                운영시간: "05:00-21:00(새벽시장 포함)",
                위치: "부산 중구 자갈치해안로 52",
                주차장: "자갈치시장 지하주차장(지하1·2층, 10:00~21:00 운영), 부평공영주차장 병행 사용 가능",
            }
        },
        { 
            title: "서울 통인시장", 
            image: "602.jpeg", 
            reason: "종로구에 위치한 시장으로, 2012년부터 엽전으로 시장 음식을 도시락에 골라 먹을 수 있는 시장 문화를 만들어 젊은 층 사이에 이색 데이트 코스로 손꼽힌다. 초여름인 6월을 맞이해 여름 밑반찬과 제철 먹거리를 ‘피크닉 도시락’처럼 즐겨보는 것은 어떨까.", 
            details: {
                운영시간: "09:00-18:00",
                위치: "서울 종로구 자하문로15길 18",
                주차장: "효자공영주차장 이용",
            }
        },
    ],
    7:    [
        { 
            title: "여수 수산시장", 
            image: "701.jpeg", 
            reason: "50년 역사의 수산물 전통시장으로, 여수 3대 수산시장 중 규모가 가장 크다. 여름철에 방문해도 싱싱한 해산물이 풍부하며, 시장에서 회를 떠서 여수항 바로 앞에서 식사가 가능하다. 제철 해산물로는 갯장어회, 새조개 샤부샤부 등이 있다.", 
            details: {
                운영시간: "06:00-21:00",
                위치: "전남 여수시 여객선터미널길 24",
                주차장: "여수수산시장 공영주차장 이용",
            }
        },
        { 
            title: "독립문 영천시장", 
            image: "702.jpeg", 
            reason: "서대문역과 독립문역 중간에 위치해있어 접근성이 좋으며, SNS에서 입소문을 타면서 젊은 층에도 인기가 높다. 과일부터 해산물까지 다양한 식자재가 시장 내에 함께 어우러져 있다. 특히 25년 전통의 ‘달인꽈배기’가 유명하다.", 
            details: {
                운영시간: "07:00-21:00",
                위치: "서울 서대문구 통일로 189-1 영천시장",
                주차장: "독립문문화공원 공영주차장 이용",
            }
        },
    ],
    8:   [
        { 
            title: "수원 남문시장", 
            image: "801.jpeg", 
            reason: "방학에는 서울 근교인 수원으로 당일치기 여행을 떠나 보자. 수원 화성 옆에는 팔달문을 중심으로 9개의 전통시장이 모여있는 수원 남문시장이 있다. 초대형 규모로 꼽히는 전국 3대 시장으로, 시장마다  가득하다. 못골시장의 떡갈비, 지동시장의 순대타운, 팔달문시장의 도넛, 그리고 남문시장의 매운 어묵과 만두까지 보기만 해도 배부른 음식들을 만날 수 있다.", 
            details: {
                운영시간: "점포마다 상이",
                위치: "경기도 수원시 팔달구 팔달문로 9",
                주차장: "팔달주차타운 이용",
            }
        },
        { 
            title: "남해 전통시장", 
            image: "802.jpeg", 
            reason: "남해의 바다 내음이 물씬 풍긴다. 남해전통시장의 수산물 코너에는 남해에서 갓 잡아 어민들이 직접 판매하는 생선이 가득하다. 어물전뿐만 아니라 남해의 특산물인 마늘과 여름 농산물인 단호박 등 경남의 다양한 먹거리를 보고 즐길 수 있다.", 
            details: {
                운영시간: "점포마다 상이, 매달 2, 7일 장날",
                위치: "경남 남해군 남해읍 화전로 110",
                주차장: "남해시장 공영주차장 이용",
            }
        },
    ],
    9:   [
        { 
            title: "구리 전통시장", 
            image: "901.jpeg", 
            reason: "시장에 들어서면 너구리가 사람들을 반긴다. 구리 전통시장은 특히 저렴한 가격으로 알려져 있어 부담없이 먹거리를 즐길 수 있다. 무엇보다, 시장의 돌다리 곱창 골목은 오래된 명물로 유명하니 시장에 방문한다면 꼭 들러 보길 추천한다.", 
            details: {
                운영시간: "10:00-22:00",
                위치: "경기 구리시 검배로6번길 31",
                주차장: "구리 전통시장 공영주차장 이용",
            }
        },
        { 
            title: "서울 망원시장", 
            image: "902.jpeg", 
            reason: "마포구에 위치해 접근성이 좋아 사람들이 붐비는 망원시장이다. 호떡, 닭강정 등 맛있는 음식이 가득하지만 그중에서도 시장의 인심이 가장 돋보인다. 여름이 끝나고 가을이 다가오는 9월, 시장에서 좋아하는 먹거리를 사 망원한강공원으로 피크닉을 가 보는 건 어떨까.", 
            details: {
                운영시간: "10:00-21:00",
                위치: "서울 마포구 포은로6길 27 2층",
                주차장: "망원 1~2 공영주차장 이용",
            }
        },
    ],
    10:   [
        { 
            title: "용산 용문시장", 
            image: "1001.jpeg", 
            reason: "작지만 없는 게 없는 용문시장이다. 부산어묵과 해장국이 유명하지만, 10월에는 용문시장에 한번쯤 들러보는 것을 추천한다. 바로 10월에는 용금맥 축제가 열리기 때문인데, 시장에서 음식을 구입하면 맥주를 무료로 마실 수 있으니 시장을 마음껏 즐기고 좋은 추억을 만들어 보길 바란다.", 
            details: {
                운영시간: "09:00-20:00",
                위치: "서울 용산구 효창원로42길 38-14",
                주차장: "보은민영주차장 이ㅇ",
            }
        },
        { 
            title: "연산 전통시장", 
            image: "1002.jpeg", 
            reason: "다가오는 추석, 명절 먹거리를 위해 연산 전통시장에 방문해 보자. 특산물인 연산 대추는 전국에서 유통되는 대추의 40%를 차지하는 만큼, 시장 곳곳에서도 연산 대추를 발견할 수 있다. 10월 중순에 열리는 대추 문화 축제에도 방문해 좋은 품질과 시장 분위기를 느껴보자.", 
            details: {
                운영시간: "08:00-19:00 ; 5, 10일 장날",
                위치: "충남 논산시 연산면 연산리 388-5",
                주차장: "연산면 공영 주차장 이용",
            }
        },
    ],
    11:   [
        { 
            title: "샘고을시장", 
            image: "1101.jpeg", 
            reason: "단풍 명소인 내장산에 방문했다면, 근처에 있는 샘고을시장에 가보자. 축구장 5개 규모인 샘고을시장은, 특산물인 홍어와 비늘 없는 굴비, 대장간에서 만든 무쇠칼까지 볼거리와 먹을거리가 가득하다. 여기에 시장 명물인 새알 팥죽까지 즐긴다면 잊지 못할 단풍 여행이 될 것이다.", 
            details: {
                운영시간: "점포마다 상이",
                위치: "전북 정읍시 태평3길 38 늘봄",
                주차장: "샘고을시장평화주차장 이용",
            }
        },
        { 
            title: "자양 전통시장", 
            image: "1102.jpeg", 
            reason: "초겨울 김장철에는 자양 전통시장에 방문해 보자. 배추와 무부터 양념, 젓갈까지 저렴하고도 신선하게 구매할 수 있다. 시장에 간 김에, 시장 명물 4개 천 원인 꽈배기, 찹쌀도넛 먹고 오는 것도 꼭 기억하자.", 
            details: {
                운영시간: "점포마다 상이",
                위치: "서울 광진구 자양동 714",
                주차장: "자양 전통시장 공영 주차장 이용",
            }
        },
    ],
    12:   [
        { 
            title: "북평 민속시장", 
            image: "1201.jpeg", 
            reason: "전국 3대 5일장 중 하나로, 자연산 수산물이 가득한 시장이다. 동해인 만큼 시장에는 당일에 바다에서 잡은 자연산 수산물이 가득하다. 특히 말린 생선은 겨울에만 만나볼 수 있어 더욱 추천하며, 동해의 싱싱한 대왕 문어도 별미다. 수산물 뿐만 아니라 60년 전통의 소머리국밥 거리도 있으니, 시원한 동해 바다 구경하며 근처에 방문해 보는 것을 추천한다.", 
            details: {
                운영시간: "09:00-18:00 ; 3, 8일 장날",
                위치: "강원 동해시 구미동 486-2",
                주차장: "북평민속시장 공영주차장 이용",
            }
        },
        { 
            title: "광명 전통시장", 
            image: "1202.jpeg", 
            reason: "서울과 가까운 광명 전통시장은 접근성도 좋은 데다, 큰 규모를 자랑해 경기 3대 재래시장으로 꼽힌다. 추운 12월, 광명 전통시장에는 팥을 잔뜩 넣어주는 유명한 붕어빵 가게 부터 국화빵, 녹두전까지 겨울 간식으로 가득하다. 연말에 광명 전통시장을 방문해 맛있는 음식과 시장 인심으로 추위를 녹여 보자.", 
            details: {
                운영시간: "10:00-21:00",
                위치: "경기 광명시 광이로13번길 17-5",
                주차장: "광명 전통시장 제1~2 공영 주차장 이용",
            }
        },
    ],
};


document.addEventListener('DOMContentLoaded', () => {
    // 1. 필요한 DOM 요소들을 가져옵니다.
    const monthSelector = document.querySelector('.month-selector');
    const marketDetailsContainer = document.getElementById('marketDetails'); 
    const defaultMessage = document.querySelector('.default-message');
    
    const contentSections = document.querySelectorAll('.content-section');
    const pageLinkButtons = document.querySelectorAll('.page-link');


    // 1. 페이지 전환 핵심 함수
    function switchPage(targetId) {
        contentSections.forEach(section => {
            section.classList.add('hidden-page');
        });

        const targetSection = document.getElementById(targetId);
        if (targetSection) {
            targetSection.classList.remove('hidden-page');
            window.scrollTo(0, 0); 
        }
    }
    
    // 페이지 로드 시 홈 화면만 보이도록 초기 설정
    switchPage('home-section');


    // 2. 버튼 클릭 이벤트 (페이지 전환)
    pageLinkButtons.forEach(button => {
        button.addEventListener('click', () => {
            const targetId = button.dataset.target;
            if (targetId) {
                switchPage(targetId);
            }
        });
    });


    // 3. 월별 버튼 동적 생성 및 이벤트 리스너 추가
    Object.keys(marketData).forEach(monthKey => {
        const month = parseInt(monthKey); 
        
        const button = document.createElement('button');
        button.textContent = `${month}월`;
        button.classList.add('month-btn');
        button.dataset.month = month;

        button.addEventListener('click', () => {
            displayMarketInfo(month);
            
            document.querySelectorAll('.month-btn').forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');
        });
        
        monthSelector.appendChild(button);
    });

    // 4. 시장 정보 표시 함수
    function displayMarketInfo(month) {
        const marketsArray = marketData[month]; 
        
        if (!marketsArray || marketsArray.length === 0) {
            marketDetailsContainer.innerHTML = `<p>${month}월의 추천 시장 정보가 없습니다.</p>`;
            marketDetailsContainer.classList.remove('hidden');
            defaultMessage.classList.add('hidden');
            return;
        }

        let marketHtml = '';

        marketsArray.forEach(market => {
            // ⭐️ 1. 상세 정보 (details)를 HTML 목록으로 변환
            let detailsHtml = '';
            if (market.details) {
                // details 객체의 키와 값을 반복하여 <p> 태그로 만듭니다.
                for (const [key, value] of Object.entries(market.details)) {
                    // 키를 굵게(strong) 처리하여 줄 바꿈되도록 합니다.
                    detailsHtml += `<p><strong>${key}:</strong> ${value}</p>`;
                }
            }
            
            // ⭐️ 2. 전체 HTML 블록 생성: reason 필드를 다시 추가했습니다.
            marketHtml += `
                <div class="market-entry">
                    <h3 class="marketTitle">${month}월의 추천 시장: ${market.title}</h3>
                    <img class="marketImage" src="${market.image}" alt="${market.title} 이미지" style="width: 100%; max-width: 300px; display: block; margin: 10px auto; border-radius: 3px;">
                    
                    <p class="marketReason"><strong>추천 이유:</strong> ${market.reason}</p>
                    
                    <div class="market-details-info">
                        ${detailsHtml}
                    </div>
                    <hr>
                </div>
            `;
        });
        
        // 생성된 HTML을 컨테이너에 삽입
        marketDetailsContainer.innerHTML = marketHtml;
        
        defaultMessage.classList.add('hidden');
        marketDetailsContainer.classList.remove('hidden');

        marketDetailsContainer.scrollIntoView({ behavior: 'smooth' });
    }
});
